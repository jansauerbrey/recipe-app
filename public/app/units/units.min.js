angular.module('app.units',['ui.router']).factory('Units',['$resource','BASE_URI',function(t,n){return t(n+'api/units/:id',null,{update:{method:'PUT'}});}]).controller('UnitsController',['$scope','units',function(t,n){t.units=n;}]).controller('UnitDetailCtrl',['$scope','$stateParams','unit','Units','$state',function(t,n,i,e,u){t.unit=i,t.update=function(){e.update({id:t.unit._id},t.unit,function(){u.go('admin.units.list');});},t.remove=function(){e.remove({id:t.unit._id},function(){u.go('admin.units.list');});},t.save=function(){if(t.newunit&&!(t.newunit.length<1)){const n=new e({name:{en:t.newunit.name.en,de:t.newunit.name.de,fi:t.newunit.name.fi}});n.$save(function(){u.go('admin.units.list');});}};}]).config(['$stateProvider','$urlRouterProvider',function(t,n){t.state('admin.units',{'abstract':!0,url:'/units',template:'<ui-view />',data:{title:'Units'}}).state('admin.units.list',{url:'/list',templateUrl:'partials/units.tpl.html',controller:'UnitsController',resolve:{units:['Units',function(t){return t.query().$promise;}]},data:{name:'Units',icon:'glyphicon glyphicon-scale'}}).state('admin.units.edit',{url:'/edit/:id',templateUrl:'partials/units.details.tpl.html',controller:'UnitDetailCtrl',resolve:{unit:['Units','$stateParams',function(t,n){const i=t.get({id:n.id},function(t){return t;}).$promise;return i;}]}}).state('admin.units.add',{url:'/add',templateUrl:'partials/units.add.tpl.html',controller:'UnitDetailCtrl',resolve:{unit:['Units',function(t){const n=new t;return n;}]}});}]);