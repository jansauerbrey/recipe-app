angular.module('app.tags',['ui.router']).factory('Tags',['$resource','BASE_URI',function(t,a){return t(a+'api/tags/:id',null,{update:{method:'PUT'}});}]).controller('TagsController',['$scope','tags',function(t,a){t.tags=a;}]).controller('TagDetailCtrl',['$scope','$stateParams','tag','Tags','$state',function(t,a,e,r,n){t.tag=e,t.update=function(){r.update({id:t.tag._id},t.tag,function(){n.go('admin.tags.list');});},t.remove=function(){r.remove({id:t.tag._id},function(){n.go('admin.tags.list');});},t.save=function(){if(t.newtag&&!(t.newtag.length<1)){const a=new r({text:t.newtag.text});a.$save(function(){n.go('admin.tags.list');});}};}]).config(['$stateProvider','$urlRouterProvider',function(t,a){t.state('admin.tags',{'abstract':!0,url:'/tags',template:'<ui-view />',data:{title:'Tags'}}).state('admin.tags.list',{url:'/list',templateUrl:'partials/tags.tpl.html',controller:'TagsController',resolve:{tags:['Tags',function(t){return t.query().$promise;}]},data:{name:'Tags',icon:'glyphicon glyphicon-tags'}}).state('admin.tags.edit',{url:'/edit/:id',templateUrl:'partials/tags.details.tpl.html',controller:'TagDetailCtrl',resolve:{tag:['Tags','$stateParams',function(t,a){const e=t.get({id:a.id},function(t){return t;}).$promise;return e;}]}}).state('admin.tags.add',{url:'/add',templateUrl:'partials/tags.add.tpl.html',controller:'TagDetailCtrl',resolve:{tag:['Tags',function(t){const a=new t;return a;}]}});}]);