<div class="row">
  <div class="col-xs-12" style="margin-bottom: 20px;">
    <h3 style="margin-bottom: 30px;">Recipes
      <a class="btn btn-primary pull-right" href="#/recipes/add/" role="button"><i class="glyphicon glyphicon-plus"></i></a>
    </h3> 
    <div class="input-group">
      <input type="text" ng-model="search.name" class="form-control" placeholder="Search...">
      <div class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="hideAdvSearch=!hideAdvSearch"><span class="hidden-xs">Advanced Search </span><span class="caret"></span></button>
      </div>
    </div>
      <div class="panel panel-default form-group" ng-hide="hideAdvSearch">
        <div class="panel-body">
              <div class="page-header col-xs-12" style="margin-top: 0px;">
                <h5>Tags</h5>
              </div>
              <div class="panel-body">
                <div class="col-xs-6 col-sm-4 col-md-3 col-lg-2" ng-repeat="tag in tags">
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="tagfilter[tag.text]">{{tag.text}}
                    </label>
                  </div>
                </div>
              </div>
        </div>
    </div>
    <div ng-show="loading" class="text-center"><i class="fa fa-spinner fa-spin fa-3x"></i></div>
    <div class="list-group" style="margin-top: 20px;">
      <div ng-repeat="recipe in filtered=(recipes | filter: search | filter: filterByTags) | orderBy: 'name'">
        <a class="list-group-item col-xs-12" href="#/recipes/edit/{{recipe._id}}">
          <div class="list-group-item-heading">{{recipe.name}}</div>
          <div class="list-group-item-text">
             <span ng-repeat="tag in recipe.tags" class="label label-primary" style="margin: 2px; display: inline-block;">{{tag.text}}</span>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>
